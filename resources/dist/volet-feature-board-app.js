/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const R=[],z=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),E=Object.assign,f=Array.isArray,h=t=>typeof t=="function",u=t=>typeof t=="string",B=t=>typeof t=="symbol",g=t=>t!==null&&typeof t=="object";let k;const w=()=>k||(k=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function C(t){if(f(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],o=u(n)?L(n):C(n);if(o)for(const r in o)e[r]=o[r]}return e}else if(u(t)||g(t))return t}const M=/;(?![^(]*\))/g,P=/:([^]+)/,D=/\/\*[^]*?\*\//g;function L(t){const e={};return t.replace(D,"").split(M).forEach(s=>{if(s){const n=s.split(P);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function S(t){let e="";if(u(t))e=t;else if(f(t))for(let s=0;s<t.length;s++){const n=S(t[s]);n&&(e+=n+" ")}else if(g(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(B));function T(t){return t?!!t.__v_raw:!1}function q(t){return t?t.__v_isRef===!0:!1}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let p=null,$=null;const U=t=>t.__isTeleport;function N(t,e){t.shapeFlag&6&&t.component?(t.transition=e,N(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}w().requestIdleCallback;w().cancelIdleCallback;const G=Symbol.for("v-ndc"),J={},O=t=>Object.getPrototypeOf(t)===J,Y=t=>t.__isSuspense,j=Symbol.for("v-fgt"),H=Symbol.for("v-txt"),K=Symbol.for("v-cmt"),v=Symbol.for("v-stc"),m=[];let a=null;function Q(t=!1){m.push(a=t?null:[])}function W(){m.pop(),a=m[m.length-1]||null}function X(t){return t.dynamicChildren=a||R,W(),a&&a.push(t),t}function Z(t,e,s,n,o,r){return X(V(t,e,s,n,o,r,!0))}function tt(t){return t?t.__v_isVNode===!0:!1}const x=({key:t})=>t??null,d=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?u(t)||q(t)||h(t)?{i:p,r:t,k:e,f:!!s}:t:null);function V(t,e=null,s=null,n=0,o=null,r=t===j?0:1,l=!1,c=!1){const i={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&x(e),ref:e&&d(e),scopeId:$,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:p};return c?(F(i,s),r&128&&t.normalize(i)):s&&(i.shapeFlag|=u(s)?8:16),!l&&a&&(i.patchFlag>0||r&6)&&i.patchFlag!==32&&a.push(i),i}const I=et;function et(t,e=null,s=null,n=0,o=null,r=!1){if((!t||t===G)&&(t=K),tt(t)){const c=y(t,e,!0);return s&&F(c,s),!r&&a&&(c.shapeFlag&6?a[a.indexOf(t)]=c:a.push(c)),c.patchFlag=-2,c}if(it(t)&&(t=t.__vccOpts),e){e=st(e);let{class:c,style:i}=e;c&&!u(c)&&(e.class=S(c)),g(i)&&(T(i)&&!f(i)&&(i=E({},i)),e.style=C(i))}const l=u(t)?1:Y(t)?128:U(t)?64:g(t)?4:h(t)?2:0;return V(t,e,s,n,o,l,r,!0)}function st(t){return t?T(t)||O(t)?E({},t):t:null}function y(t,e,s=!1,n=!1){const{props:o,ref:r,patchFlag:l,children:c,transition:i}=t,_=e?rt(o||{},e):o,b={__v_isVNode:!0,__v_skip:!0,type:t.type,props:_,key:_&&x(_),ref:e&&e.ref?s&&r?f(r)?r.concat(d(e)):[r,d(e)]:d(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==j?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:i,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&y(t.ssContent),ssFallback:t.ssFallback&&y(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return i&&n&&N(b,i.clone(b)),b}function ot(t=" ",e=0){return I(H,null,t,e)}function nt(t,e){const s=I(v,null,t);return s.staticCount=e,s}function F(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(f(e))s=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),F(t,o()),o._c&&(o._d=!0));return}else s=32,!e._&&!O(e)&&(e._ctx=p);else h(e)?(e={default:e,_ctx:p},s=32):(e=String(e),n&64?(s=16,e=[ot(e)]):s=8);t.children=e,t.shapeFlag|=s}function rt(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=S([e.class,n.class]));else if(o==="style")e.style=C([e.style,n.style]);else if(z(o)){const r=e[o],l=n[o];l&&r!==l&&!(f(r)&&r.includes(l))&&(e[o]=r?[].concat(r,l):l)}else o!==""&&(e[o]=n[o])}return e}{const t=w(),e=(s,n)=>{let o;return(o=t[s])||(o=t[s]=[]),o.push(n),r=>{o.length>1?o.forEach(l=>l(r)):o[0](r)}};e("__VUE_INSTANCE_SETTERS__",s=>s),e("__VUE_SSR_SETTERS__",s=>s)}function it(t){return h(t)&&"__vccOpts"in t}const lt=(t,e)=>{const s=t.__vccOpts||t;for(const[n,o]of e)s[n]=o;return s},ct={props:{categories:{type:Array,required:!0},routes:{type:Object,required:!0},labels:{type:Object,required:!0}},data(){return{features:[],selectedCategory:null,showForm:!1,form:{title:"",description:"",category:""},formErrors:{},commentForm:{},statusClasses:{pending:"volet-feature-board-status-pending",approved:"volet-feature-board-status-approved",rejected:"volet-feature-board-status-rejected",completed:"volet-feature-board-status-completed"}}},computed:{filteredFeatures(){return this.selectedCategory?this.features[this.selectedCategory.slug]||[]:[]}},watch:{"form.title":{handler(t){console.log("form.title changed:",t)},immediate:!0},"form.description":{handler(t){console.log("form.description changed:",t)},immediate:!0}},async created(){this.selectedCategory=this.categories[0],await this.loadFeatures()},methods:{async loadFeatures(){try{const t=await fetch(this.routes.features);if(!t.ok)throw new Error("Network response was not ok");this.features=await t.json()}catch(t){console.error("Error loading features:",t)}},selectCategory(t){this.selectedCategory=t},async submitFeature(){this.formErrors={};try{const t=await fetch(this.routes.store,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({...this.form,category:this.selectedCategory.slug})}),e=await t.json();if(!t.ok){if(t.status===422&&e.errors){this.formErrors=e.errors;return}throw new Error(e.message||"Network response was not ok")}await this.loadFeatures(),this.showForm=!1,this.form.title="",this.form.description=""}catch(t){console.error("Error submitting feature:",t)}},async toggleVote(t){try{const e=await fetch(this.routes.vote.replace("{id}",t.id),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Network response was not ok");const s=await e.json();t.votes_count=s.votes_count,t.hasVoted=s.action==="added"}catch(e){console.error("Error toggling vote:",e)}},async submitComment(t){if(this.commentForm[t.id])try{const e=await fetch(this.routes.comment.replace("{id}",t.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:this.commentForm[t.id]})});if(!e.ok)throw new Error("Network response was not ok");const s=await e.json();t.comments||(t.comments=[]),t.comments.push(s),this.commentForm[t.id]=""}catch(e){console.error("Error submitting comment:",e)}},onTitleInput(t){console.log("Input event:",t.target.value),this.form.title=t.target.value},onDescriptionInput(t){console.log("Description input:",t.target.value),this.form.description=t.target.value}}},at={class:"volet-feature-board"};function ut(t,e,s,n,o,r){return Q(),Z("div",at,e[0]||(e[0]=[nt('<div class="vfb:flex vfb:items-center vfb:justify-between"><div><h1 class="vfb:text-xl vfb:font-semibold vfb:text-zinc-900">Features List</h1><p class="vfb:mt-1 vfb:text-sm vfb:text-zinc-500">1 feature found</p></div><button class="volet-button" type="button" aria-haspopup="dialog"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus mr-2 size-4"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg> New feature </button></div>',1)]))}const ft=lt(ct,[["render",ut]]);function A(){window.Volet?window.Volet.component("FeatureBoard",ft):(console.log("Volet not found, retrying..."),setTimeout(A,100))}document.addEventListener("DOMContentLoaded",A);
