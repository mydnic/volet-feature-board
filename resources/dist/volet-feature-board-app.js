/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Wt(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Yt=[],qt=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),lt=Object.assign,Gt=Object.prototype.hasOwnProperty,nt=(t,e)=>Gt.call(t,e),m=Array.isArray,V=t=>Y(t)==="[object Map]",Jt=t=>Y(t)==="[object Set]",L=t=>typeof t=="function",C=t=>typeof t=="string",F=t=>typeof t=="symbol",v=t=>t!==null&&typeof t=="object",Ot=Object.prototype.toString,Y=t=>Ot.call(t),Qt=t=>Y(t).slice(8,-1),Xt=t=>Y(t)==="[object Object]",ut=t=>C(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,B=(t,e)=>!Object.is(t,e),Zt=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},gt=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let yt;const ft=()=>yt||(yt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dt(t){if(m(t)){const e={};for(let n=0;n<t.length;n++){const c=t[n],s=C(c)?ne(c):dt(c);if(s)for(const o in s)e[o]=s[o]}return e}else if(C(t)||v(t))return t}const $t=/;(?![^(]*\))/g,te=/:([^]+)/,ee=/\/\*[^]*?\*\//g;function ne(t){const e={};return t.replace(ee,"").split($t).forEach(n=>{if(n){const c=n.split(te);c.length>1&&(e[c[0].trim()]=c[1].trim())}}),e}function j(t){let e="";if(C(t))e=t;else if(m(t))for(let n=0;n<t.length;n++){const c=j(t[n]);c&&(e+=c+" ")}else if(v(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Et=t=>!!(t&&t.__v_isRef===!0),h=t=>C(t)?t:t==null?"":m(t)||v(t)&&(t.toString===Ot||!L(t.toString))?Et(t)?h(t.value):JSON.stringify(t,Ft,2):String(t),Ft=(t,e)=>Et(e)?Ft(t,e.value):V(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[c,s],o)=>(n[G(c,o)+" =>"]=s,n),{})}:Jt(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>G(n))}:F(e)?G(e):v(e)&&!m(e)&&!Xt(e)?String(e):e,G=(t,e="")=>{var n;return F(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let se,xt=0,J;function ht(){xt++}function mt(){if(--xt>0)return;let t;for(;J;){let e=J;for(J=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(c){t||(t=c)}e=n}}if(t)throw t}let U=!0;const jt=[];function re(){jt.push(U),U=!1}function oe(){const t=jt.pop();U=t===void 0?!0:t}class ie{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){}trigger(e){this.version++,this.notify(e)}notify(e){ht();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{mt()}}}const st=new WeakMap,E=Symbol(""),rt=Symbol(""),K=Symbol("");function _(t,e,n){if(U&&se){let c=st.get(t);c||st.set(t,c=new Map);let s=c.get(n);s||(c.set(n,s=new ie),s.map=c,s.key=n),s.track()}}function T(t,e,n,c,s,o){const r=st.get(t);if(!r)return;const i=a=>{a&&a.trigger()};if(ht(),e==="clear")r.forEach(i);else{const a=m(t),l=a&&ut(n);if(a&&n==="length"){const d=Number(c);r.forEach((p,g)=>{(g==="length"||g===K||!F(g)&&g>=d)&&i(p)})}else switch((n!==void 0||r.has(void 0))&&i(r.get(n)),l&&i(r.get(K)),e){case"add":a?l&&i(r.get("length")):(i(r.get(E)),V(t)&&i(r.get(rt)));break;case"delete":a||(i(r.get(E)),V(t)&&i(r.get(rt)));break;case"set":V(t)&&i(r.get(E));break}}mt()}function x(t){const e=f(t);return e===t?e:(_(e,"iterate",K),O(t)?e:e.map(b))}function q(t){return _(t=f(t),"iterate",K),t}const ce={__proto__:null,[Symbol.iterator](){return Q(this,Symbol.iterator,b)},concat(...t){return x(this).concat(...t.map(e=>m(e)?x(e):e))},entries(){return Q(this,"entries",t=>(t[1]=b(t[1]),t))},every(t,e){return R(this,"every",t,e,void 0,arguments)},filter(t,e){return R(this,"filter",t,e,n=>n.map(b),arguments)},find(t,e){return R(this,"find",t,e,b,arguments)},findIndex(t,e){return R(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return R(this,"findLast",t,e,b,arguments)},findLastIndex(t,e){return R(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return R(this,"forEach",t,e,void 0,arguments)},includes(...t){return X(this,"includes",t)},indexOf(...t){return X(this,"indexOf",t)},join(t){return x(this).join(t)},lastIndexOf(...t){return X(this,"lastIndexOf",t)},map(t,e){return R(this,"map",t,e,void 0,arguments)},pop(){return A(this,"pop")},push(...t){return A(this,"push",t)},reduce(t,...e){return wt(this,"reduce",t,e)},reduceRight(t,...e){return wt(this,"reduceRight",t,e)},shift(){return A(this,"shift")},some(t,e){return R(this,"some",t,e,void 0,arguments)},splice(...t){return A(this,"splice",t)},toReversed(){return x(this).toReversed()},toSorted(t){return x(this).toSorted(t)},toSpliced(...t){return x(this).toSpliced(...t)},unshift(...t){return A(this,"unshift",t)},values(){return Q(this,"values",b)}};function Q(t,e,n){const c=q(t),s=c[e]();return c!==t&&!O(t)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.value&&(o.value=n(o.value)),o}),s}const ae=Array.prototype;function R(t,e,n,c,s,o){const r=q(t),i=r!==t&&!O(t),a=r[e];if(a!==ae[e]){const p=a.apply(t,o);return i?b(p):p}let l=n;r!==t&&(i?l=function(p,g){return n.call(this,b(p),g,t)}:n.length>2&&(l=function(p,g){return n.call(this,p,g,t)}));const d=a.call(r,l,c);return i&&s?s(d):d}function wt(t,e,n,c){const s=q(t);let o=n;return s!==t&&(O(t)?n.length>3&&(o=function(r,i,a){return n.call(this,r,i,a,t)}):o=function(r,i,a){return n.call(this,r,b(i),a,t)}),s[e](o,...c)}function X(t,e,n){const c=f(t);_(c,"iterate",K);const s=c[e](...n);return(s===-1||s===!1)&&pt(n[0])?(n[0]=f(n[0]),c[e](...n)):s}function A(t,e,n=[]){re(),ht();const c=f(t)[e].apply(t,n);return mt(),oe(),c}const le=Wt("__proto__,__v_isRef,__isVue"),Mt=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(F));function ue(t){F(t)||(t=String(t));const e=f(this);return _(e,"has",t),e.hasOwnProperty(t)}class It{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,c){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return c===(s?o?we:Vt:o?ye:Nt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(c)?e:void 0;const r=m(e);if(!s){let a;if(r&&(a=ce[n]))return a;if(n==="hasOwnProperty")return ue}const i=Reflect.get(e,n,M(e)?e:c);return(F(n)?Mt.has(n):le(n))||(s||_(e,"get",n),o)?i:M(i)?r&&ut(n)?i:i.value:v(i)?s?Kt(i):Pt(i):i}}class fe extends It{constructor(e=!1){super(!1,e)}set(e,n,c,s){let o=e[n];if(!this._isShallow){const a=I(o);if(!O(c)&&!I(c)&&(o=f(o),c=f(c)),!m(e)&&M(o)&&!M(c))return a?!1:(o.value=c,!0)}const r=m(e)&&ut(n)?Number(n)<e.length:nt(e,n),i=Reflect.set(e,n,c,M(e)?e:s);return e===f(s)&&(r?B(c,o)&&T(e,"set",n,c):T(e,"add",n,c)),i}deleteProperty(e,n){const c=nt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&c&&T(e,"delete",n,void 0),s}has(e,n){const c=Reflect.has(e,n);return(!F(n)||!Mt.has(n))&&_(e,"has",n),c}ownKeys(e){return _(e,"iterate",m(e)?"length":E),Reflect.ownKeys(e)}}class de extends It{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const he=new fe,me=new de,ot=t=>t,z=t=>Reflect.getPrototypeOf(t);function pe(t,e,n){return function(...c){const s=this.__v_raw,o=f(s),r=V(o),i=t==="entries"||t===Symbol.iterator&&r,a=t==="keys"&&r,l=s[t](...c),d=n?ot:e?it:b;return!e&&_(o,"iterate",a?rt:E),{next(){const{value:p,done:g}=l.next();return g?{value:p,done:g}:{value:i?[d(p[0]),d(p[1])]:d(p),done:g}},[Symbol.iterator](){return this}}}}function k(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function _e(t,e){const n={get(s){const o=this.__v_raw,r=f(o),i=f(s);t||(B(s,i)&&_(r,"get",s),_(r,"get",i));const{has:a}=z(r),l=e?ot:t?it:b;if(a.call(r,s))return l(o.get(s));if(a.call(r,i))return l(o.get(i));o!==r&&o.get(s)},get size(){const s=this.__v_raw;return!t&&_(f(s),"iterate",E),Reflect.get(s,"size",s)},has(s){const o=this.__v_raw,r=f(o),i=f(s);return t||(B(s,i)&&_(r,"has",s),_(r,"has",i)),s===i?o.has(s):o.has(s)||o.has(i)},forEach(s,o){const r=this,i=r.__v_raw,a=f(i),l=e?ot:t?it:b;return!t&&_(a,"iterate",E),i.forEach((d,p)=>s.call(o,l(d),l(p),r))}};return lt(n,t?{add:k("add"),set:k("set"),delete:k("delete"),clear:k("clear")}:{add(s){!e&&!O(s)&&!I(s)&&(s=f(s));const o=f(this);return z(o).has.call(o,s)||(o.add(s),T(o,"add",s,s)),this},set(s,o){!e&&!O(o)&&!I(o)&&(o=f(o));const r=f(this),{has:i,get:a}=z(r);let l=i.call(r,s);l||(s=f(s),l=i.call(r,s));const d=a.call(r,s);return r.set(s,o),l?B(o,d)&&T(r,"set",s,o):T(r,"add",s,o),this},delete(s){const o=f(this),{has:r,get:i}=z(o);let a=r.call(o,s);a||(s=f(s),a=r.call(o,s)),i&&i.call(o,s);const l=o.delete(s);return a&&T(o,"delete",s,void 0),l},clear(){const s=f(this),o=s.size!==0,r=s.clear();return o&&T(s,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=pe(s,t,e)}),n}function At(t,e){const n=_e(t,e);return(c,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?c:Reflect.get(nt(n,s)&&s in c?n:c,s,o)}const be={get:At(!1,!1)},ge={get:At(!0,!1)},Nt=new WeakMap,ye=new WeakMap,Vt=new WeakMap,we=new WeakMap;function Se(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ve(t){return t.__v_skip||!Object.isExtensible(t)?0:Se(Qt(t))}function Pt(t){return I(t)?t:Lt(t,!1,he,be,Nt)}function Kt(t){return Lt(t,!0,me,ge,Vt)}function Lt(t,e,n,c,s){if(!v(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const r=ve(t);if(r===0)return t;const i=new Proxy(t,r===2?c:n);return s.set(t,i),i}function zt(t){return I(t)?zt(t.__v_raw):!!(t&&t.__v_isReactive)}function I(t){return!!(t&&t.__v_isReadonly)}function O(t){return!!(t&&t.__v_isShallow)}function pt(t){return t?!!t.__v_raw:!1}function f(t){const e=t&&t.__v_raw;return e?f(e):t}const b=t=>v(t)?Pt(t):t,it=t=>v(t)?Kt(t):t;function M(t){return t?t.__v_isRef===!0:!1}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let W=null,Ce=null;function Z(t,e){return t}const Re=t=>t.__isTeleport;function kt(t,e){t.shapeFlag&6&&t.component?(t.transition=e,kt(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}ft().requestIdleCallback;ft().cancelIdleCallback;const Te=Symbol.for("v-ndc");function $(t,e,n,c){let s;const o=n,r=m(t);if(r||C(t)){const i=r&&zt(t);let a=!1;i&&(a=!O(t),t=q(t)),s=new Array(t.length);for(let l=0,d=t.length;l<d;l++)s[l]=e(a?b(t[l]):t[l],l,void 0,o)}else if(typeof t=="number"){s=new Array(t);for(let i=0;i<t;i++)s[i]=e(i+1,i,void 0,o)}else if(v(t))if(t[Symbol.iterator])s=Array.from(t,(i,a)=>e(i,a,void 0,o));else{const i=Object.keys(t);s=new Array(i.length);for(let a=0,l=i.length;a<l;a++){const d=i[a];s[a]=e(t[d],d,a,o)}}else s=[];return s}const Oe={},Bt=t=>Object.getPrototypeOf(t)===Oe,Ee=t=>t.__isSuspense,P=Symbol.for("v-fgt"),Fe=Symbol.for("v-txt"),ct=Symbol.for("v-cmt"),D=[];let S=null;function y(t=!1){D.push(S=t?null:[])}function xe(){D.pop(),S=D[D.length-1]||null}function Dt(t){return t.dynamicChildren=S||Yt,xe(),S&&S.push(t),t}function w(t,e,n,c,s,o){return Dt(u(t,e,n,c,s,o,!0))}function je(t,e,n,c,s){return Dt(_t(t,e,n,c,s,!0))}function Me(t){return t?t.__v_isVNode===!0:!1}const Ht=({key:t})=>t??null,H=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?C(t)||M(t)||L(t)?{i:W,r:t,k:e,f:!!n}:t:null);function u(t,e=null,n=null,c=0,s=null,o=t===P?0:1,r=!1,i=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ht(e),ref:e&&H(e),scopeId:Ce,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:c,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:W};return i?(bt(a,n),o&128&&t.normalize(a)):n&&(a.shapeFlag|=C(n)?8:16),!r&&S&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&S.push(a),a}const _t=Ie;function Ie(t,e=null,n=null,c=0,s=null,o=!1){if((!t||t===Te)&&(t=ct),Me(t)){const i=at(t,e,!0);return n&&bt(i,n),!o&&S&&(i.shapeFlag&6?S[S.indexOf(t)]=i:S.push(i)),i.patchFlag=-2,i}if(Pe(t)&&(t=t.__vccOpts),e){e=Ae(e);let{class:i,style:a}=e;i&&!C(i)&&(e.class=j(i)),v(a)&&(pt(a)&&!m(a)&&(a=lt({},a)),e.style=dt(a))}const r=C(t)?1:Ee(t)?128:Re(t)?64:v(t)?4:L(t)?2:0;return u(t,e,n,c,s,r,o,!0)}function Ae(t){return t?pt(t)||Bt(t)?lt({},t):t:null}function at(t,e,n=!1,c=!1){const{props:s,ref:o,patchFlag:r,children:i,transition:a}=t,l=e?Ve(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Ht(l),ref:e&&e.ref?n&&o?m(o)?o.concat(H(e)):[o,H(e)]:H(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:i,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==P?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&at(t.ssContent),ssFallback:t.ssFallback&&at(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&c&&kt(d,a.clone(d)),d}function Ne(t=" ",e=0){return _t(Fe,null,t,e)}function St(t="",e=!1){return e?(y(),je(ct,null,t)):_t(ct,null,t)}function bt(t,e){let n=0;const{shapeFlag:c}=t;if(e==null)e=null;else if(m(e))n=16;else if(typeof e=="object")if(c&65){const s=e.default;s&&(s._c&&(s._d=!1),bt(t,s()),s._c&&(s._d=!0));return}else n=32,!e._&&!Bt(e)&&(e._ctx=W);else L(e)?(e={default:e,_ctx:W},n=32):(e=String(e),c&64?(n=16,e=[Ne(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ve(...t){const e={};for(let n=0;n<t.length;n++){const c=t[n];for(const s in c)if(s==="class")e.class!==c.class&&(e.class=j([e.class,c.class]));else if(s==="style")e.style=dt([e.style,c.style]);else if(qt(s)){const o=e[s],r=c[s];r&&o!==r&&!(m(o)&&o.includes(r))&&(e[s]=o?[].concat(o,r):r)}else s!==""&&(e[s]=c[s])}return e}{const t=ft(),e=(n,c)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(c),o=>{s.length>1?s.forEach(r=>r(o)):s[0](o)}};e("__VUE_INSTANCE_SETTERS__",n=>n),e("__VUE_SSR_SETTERS__",n=>n)}function Pe(t){return L(t)&&"__vccOpts"in t}/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ke;const vt=typeof window<"u"&&window.trustedTypes;if(vt)try{Ke=vt.createPolicy("vue",{createHTML:t=>t})}catch{}function N(t,e,n,c){t.addEventListener(e,n,c)}const Ct=t=>{const e=t.props["onUpdate:modelValue"]||!1;return m(e)?n=>Zt(e,n):e};function Le(t){t.target.composing=!0}function Rt(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const tt=Symbol("_assign"),et={created(t,{modifiers:{lazy:e,trim:n,number:c}},s){t[tt]=Ct(s);const o=c||s.props&&s.props.type==="number";N(t,e?"change":"input",r=>{if(r.target.composing)return;let i=t.value;n&&(i=i.trim()),o&&(i=gt(i)),t[tt](i)}),n&&N(t,"change",()=>{t.value=t.value.trim()}),e||(N(t,"compositionstart",Le),N(t,"compositionend",Rt),N(t,"change",Rt))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:c,trim:s,number:o}},r){if(t[tt]=Ct(r),t.composing)return;const i=(o||t.type==="number")&&!/^0\d/.test(t.value)?gt(t.value):t.value,a=e??"";i!==a&&(document.activeElement===t&&t.type!=="range"&&(c&&e===n||s&&t.value.trim()===a)||(t.value=a))}},ze=["ctrl","shift","alt","meta"],ke={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ze.some(n=>t[`${n}Key`]&&!e.includes(n))},Tt=(t,e)=>{const n=t._withMods||(t._withMods={}),c=e.join(".");return n[c]||(n[c]=(s,...o)=>{for(let r=0;r<e.length;r++){const i=ke[e[r]];if(i&&i(s,e))return}return t(s,...o)})},Be=(t,e)=>{const n=t.__vccOpts||t;for(const[c,s]of e)n[c]=s;return n},De={props:{categories:{type:Array,required:!0},routes:{type:Object,required:!0},labels:{type:Object,required:!0}},data(){return{features:[],selectedCategory:null,showForm:!1,form:{title:"",description:"",category:""},commentForm:{},statusClasses:{pending:"volet-feature-board-status-pending",approved:"volet-feature-board-status-approved",rejected:"volet-feature-board-status-rejected",completed:"volet-feature-board-status-completed"}}},computed:{filteredFeatures(){return this.selectedCategory?this.features[this.selectedCategory.slug]||[]:[]}},async created(){this.selectedCategory=this.categories[0],await this.loadFeatures()},methods:{async loadFeatures(){try{const t=await fetch(this.routes.index);if(!t.ok)throw new Error("Network response was not ok");this.features=await t.json()}catch(t){console.error("Error loading features:",t)}},selectCategory(t){this.selectedCategory=t},async submitFeature(){try{if(!(await fetch(this.routes.store,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...this.form,category:this.selectedCategory.slug})})).ok)throw new Error("Network response was not ok");await this.loadFeatures(),this.showForm=!1,this.form.title="",this.form.description=""}catch(t){console.error("Error submitting feature:",t)}},async toggleVote(t){try{const e=await fetch(this.routes.vote.replace("{id}",t.id),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Network response was not ok");const n=await e.json();t.votes_count=n.votes_count,t.hasVoted=n.action==="added"}catch(e){console.error("Error toggling vote:",e)}},async submitComment(t){if(this.commentForm[t.id])try{const e=await fetch(this.routes.comment.replace("{id}",t.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:this.commentForm[t.id]})});if(!e.ok)throw new Error("Network response was not ok");const n=await e.json();t.comments||(t.comments=[]),t.comments.push(n),this.commentForm[t.id]=""}catch(e){console.error("Error submitting comment:",e)}}}},He={class:"volet-feature-board"},Ue={class:"volet-feature-board-categories"},We=["onClick"],Ye={key:0,class:"volet-feature-board-form"},qe={class:"volet-feature-board-form-group"},Ge={class:"volet-feature-board-label"},Je={class:"volet-feature-board-form-group"},Qe={class:"volet-feature-board-label"},Xe={class:"volet-feature-board-buttons"},Ze={type:"submit",class:"volet-feature-board-button volet-feature-board-button-primary"},$e={key:1,class:"volet-feature-board-form-group"},tn={key:2,class:"volet-feature-board-features"},en={class:"volet-feature-board-feature-header"},nn={class:"volet-feature-board-feature-title"},sn={class:"volet-feature-board-feature-description"},rn={class:"volet-feature-board-feature-actions"},on=["onClick"],cn=["onClick"],an={key:0,class:"volet-feature-board-comments"},ln={class:"volet-feature-board-comment-author"},un={class:"volet-feature-board-comment-content"},fn=["onSubmit"],dn=["onUpdate:modelValue","placeholder"],hn={type:"submit",class:"volet-feature-board-button volet-feature-board-button-primary"};function mn(t,e,n,c,s,o){return y(),w("div",He,[u("div",Ue,[(y(!0),w(P,null,$(n.categories,r=>{var i;return y(),w("button",{key:r.slug,onClick:a=>o.selectCategory(r),class:j(["volet-feature-board-category-button",{active:((i=s.selectedCategory)==null?void 0:i.slug)===r.slug}])},h(r.name),11,We)}),128))]),s.showForm?(y(),w("div",Ye,[u("form",{onSubmit:e[3]||(e[3]=Tt((...r)=>o.submitFeature&&o.submitFeature(...r),["prevent"]))},[u("div",qe,[u("label",Ge,h(n.labels.title),1),Z(u("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>s.form.title=r),class:"volet-feature-board-input"},null,512),[[et,s.form.title]])]),u("div",Je,[u("label",Qe,h(n.labels.description),1),Z(u("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>s.form.description=r),rows:"3",class:"volet-feature-board-textarea"},null,512),[[et,s.form.description]])]),u("div",Xe,[u("button",{type:"button",onClick:e[2]||(e[2]=r=>s.showForm=!1),class:"volet-feature-board-button volet-feature-board-button-secondary"},h(n.labels.cancel),1),u("button",Ze,h(n.labels.submit),1)])],32)])):(y(),w("div",$e,[u("button",{onClick:e[4]||(e[4]=r=>s.showForm=!0),class:"volet-feature-board-button volet-feature-board-button-primary"},h(n.labels.suggestFeature),1)])),s.selectedCategory?(y(),w("div",tn,[(y(!0),w(P,null,$(o.filteredFeatures,r=>{var i;return y(),w("div",{key:r.id,class:"volet-feature-board-feature"},[u("div",en,[u("h3",nn,h(r.title),1),u("p",sn,h(r.description),1),u("div",rn,[u("button",{onClick:a=>o.toggleVote(r),class:j(["volet-feature-board-vote-button",{voted:r.hasVoted}])},[u("span",null,h(r.votes_count)+" "+h(n.labels.votes),1)],10,on),u("button",{onClick:a=>r.showComments=!r.showComments,class:"volet-feature-board-button volet-feature-board-button-secondary"},[u("span",null,h(((i=r.comments)==null?void 0:i.length)||0)+" "+h(n.labels.comments),1)],8,cn),u("span",{class:j(["volet-feature-board-status",`volet-feature-board-status-${r.status}`])},h(r.status),3)])]),r.showComments?(y(),w("div",an,[(y(!0),w(P,null,$(r.comments,a=>(y(),w("div",{key:a.id,class:"volet-feature-board-comment"},[u("div",ln,h(a.author_name),1),u("p",un,h(a.content),1)]))),128)),u("form",{onSubmit:Tt(a=>o.submitComment(r),["prevent"]),class:"volet-feature-board-comment-form"},[Z(u("input",{type:"text","onUpdate:modelValue":a=>s.commentForm[r.id]=a,placeholder:n.labels.addComment,class:"volet-feature-board-input"},null,8,dn),[[et,s.commentForm[r.id]]]),u("button",hn,h(n.labels.post),1)],40,fn)])):St("",!0)])}),128))])):St("",!0)])}const pn=Be(De,[["render",mn]]);function Ut(){window.Volet?window.Volet.component("FeatureBoard",pn):(console.log("Volet not found, retrying..."),setTimeout(Ut,100))}document.addEventListener("DOMContentLoaded",Ut);
